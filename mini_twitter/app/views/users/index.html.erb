<p id="notice"><%= notice %></p>

<h1>Users</h1>

<!--Modal detalle de usuario-->
<div id="show" style="display:none">
    <p>      
      <strong>Name:</strong>
      <p id="show_name"></p>
    </p>
    <p>
      <strong>Email:</strong>
      <p id="show_email"></p>
    </p>

</div>

<!--Modal listado post usuario -->
<div id="post_list" style="display:none">    
    <table>
        <thead>
            <tr>
              <th>Your posts</th>              
              <th colspan="3"></th>
            </tr>
        </thead>

         <tbody id="post_list_body">
         </tbody>

    </table>
</div>

<!--Modal edición de usuario -->
<div id="edit_user" style="display:none">
    
    <div style="display:none">  
        <p id="userId"></p> 
    </div>  

    <div>
        <strong>Name:</strong>
        <p><input type="text" id="edit_name" /></p>
        
    </div>
    <div>
       <strong>Email:</strong>
       <p><input type="email" id="edit_email" /></p>
        
    </div>
    <div class="button">
        <button id="edit_button">Edit</button>
    </div>
 

</div>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= user.name %></td>
        <td><%= user.email %></td>
        
        <!-- Link para abrir una ventana modal con la información del usuario -->
        <td><%= link_to 'Show', 'user', :onclick => "show_user(#{user.id})", remote: true %></td>  

        <!-- Link para abrir una ventana modal con la información del usuario y poder editarla-->
        <td><%= link_to 'Edit', '', :onclick => "edit_user(#{user.id})", remote: true %></td>
        <td><%= link_to 'Edit2', edit_user_path(user.id) %></td>
        
        <td><%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' } %></td>

        <td><%= link_to 'Create Post', microposts_path %></td>

        <!-- Link para abrir una ventana modal con el listado de post del usuario -->
        <td><%= link_to 'Post list', 'user', :onclick => "post_list(#{user.id})", remote: true%></td>  

      </tr>
    <% end %>

  </tbody>
</table>
  <%= link_to 'New User', new_user_path %>
<br>


